<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breakout Daniel</title>
    <script>


        function scroolBarWidth(){
            let aux1 = Number(document.body.clientWidth);
            let aux2 = Number(window.innerWidth);
            let diff = (aux2-aux1);
            //console.log('sb:' + diff);
            return diff;
        }

        
        function drawMainSquare(mySvg,h,w){            
            let myMainSquare = document.getElementById('myMainSquare');
            let sw = strokeMainSquare;
            let fill = 'lightgray';
            if(myMainSquare == null){     
                myMainSquare = document.createElementNS("http://www.w3.org/2000/svg",'rect');                        
                myMainSquare.setAttribute('id','myMainSquare');               
                mySvg.appendChild(myMainSquare);            
            }
            let theStyle = style="fill:"+fill+";stroke:blue;stroke-width:"+sw+";padding:0";
            myMainSquare.setAttribute('x','0');
            myMainSquare.setAttribute('y','0');
            myMainSquare.setAttribute('width',w);
            myMainSquare.setAttribute('height',h);           
            myMainSquare.setAttribute('style',theStyle);
            
        }

        function drawPlacar(){
            let myPlacar = document.getElementById('myPlacar');            
            let fill = 'red';
            let stroke = 'blue';
            let fs = 30;
            let x = 10;   
            let y = heightPlacar-10;       
            if( myPlacar  == null){     
                myPlacar = document.createElementNS("http://www.w3.org/2000/svg",'text');                        
                myPlacar.setAttribute('id','myPlacar');               
                mySvg.appendChild(myPlacar);            
            }
            let theStyle = style="fill:"+fill+";font: bold "+fs+"px sans-serif;";
            myPlacar.textContent = "PLACAR: " + placar;
            myPlacar.setAttribute('x',x);
            myPlacar.setAttribute('y',y);
            myPlacar.setAttribute('style',theStyle)

        }

        function drawGameBoard(mySvg,h,w){
            let myGameBoard = document.getElementById('myGameBoard');
            let sw = strokeMainSquare;
            let fill = 'black';
            let stroke = 'blue';
            let x = 0;
            let w2 = w;
            let h2 = h-heightPlacar;
            if(myGameBoard == null){     
                myGameBoard = document.createElementNS("http://www.w3.org/2000/svg",'rect');                        
                myGameBoard.setAttribute('id','myGameBoard');               
                mySvg.appendChild(myGameBoard);            
            }
            let theStyle = style="fill:"+fill+";stroke:"+stroke+";stroke-width:"+sw+";padding:0";
            myGameBoard.setAttribute('x',x);
            myGameBoard.setAttribute('y',heightPlacar);
            myGameBoard.setAttribute('width',w2);
            myGameBoard.setAttribute('height',h2);           
            myGameBoard.setAttribute('style',theStyle);            
        }

        function drawScreen(){
            //Pegar o tamanho da tela
            let h = window.innerHeight;
            let w = window.innerWidth;
            let sb = scroolBarWidth()+4;
            w -=sb;
            h -=sb;

            //Desenhar um quadrado preto com borda azul, cobrindo toda a tela
            document.body.style.margin = "0px";
            let mySvg = document.getElementById('mySvg');
            mySvg.setAttribute('width',w);
            mySvg.setAttribute('height',h);
            drawMainSquare(mySvg,h,w);
            drawGameBoard(mySvg,h,w);
            drawPlacar(mySvg);
        }

        let strokeMainSquare = 10;
        let heightPlacar = 50;
        let placar = 0;
        window.onload = drawScreen;
        window.onresize = drawScreen;
    </script>
</head>
<body>
    <svg id="mySvg"></svg>
</body>
</html>